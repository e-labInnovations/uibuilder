<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="./assets/img/icon.png">
    <title>Impex - Dashboard</title>
    <link type="text/css" rel="stylesheet" href="./index.css" media="all">
</head>

<body class="uib">
    <section class="section main-counter">
        <h2 class="subtitle">Main Counter</h2>
        <div class="columns is-tablet .is-variable is-1" id="main_div">
            <script>
                for (var i = 1; i <= 10; i++) {
                    var sectionNo = ('0' + i).slice(-2);
                    var rejectCountId = 'main_count_' + sectionNo;
                    var div = document.createElement('div');
                    div.classList.add('column');
                    div.innerHTML = `
                    <div class="notification is-link has-text-centered">
                      <span class="section-no tag is-white"> ${sectionNo} </span>
                      <span id="${rejectCountId}" class="is-size-3-tablet is-size-2-desktop is-size-1-widescreen">0</span>
                    </div>`;
                    document.querySelector('#main_div').appendChild(div);
                }
            </script>
        </div>
    </section>

    <section class="section tool-timers">
        <h2 class="subtitle">Tool Timers</h2>
        <div id="tool-timer-container" class="columns is-tablet .is-variable is-1">
            <script>
                const machineTimerContainer = document.getElementById("tool-timer-container");
                let toolTimerHTML = "";
                for (let i = 1; i <= 10; i++) {
                    var sectionNo = ('0' + i).slice(-2);
                    toolTimerHTML += `
    <a href='./timer-history?timer=tool_timer&section=section${sectionNo}' class="column">
      <div class="notification is-link">
        <span class="section-no tag is-white">${sectionNo}</span>
        Start: <span id="tt_${sectionNo}_start"></span><br>
        End : <span id="tt_${sectionNo}_end"></span><br>
        Dur : <span id="tt_${sectionNo}_duration"></span>
      </div>
    </a>
  `;
                }
                machineTimerContainer.innerHTML = toolTimerHTML;
            </script>
        </div>
    </section>

    <section class="section tool-timers">
        <h2 class="subtitle">Machine Timers</h2>
        <div id="machine-timer-container" class="columns is-tablet .is-variable is-1">
            <script>
                const toolTimerContainer = document.getElementById("machine-timer-container");
                let machineTimerHTML = "";
                for (let i = 1; i <= 10; i++) {
                    var sectionNo = ('0' + i).slice(-2);
                    machineTimerHTML += `
    <a href='./timer-history?timer=machine_timer&section=section${sectionNo}' class="column">
      <div class="notification is-link">
        <span class="section-no tag is-white">${sectionNo}</span>
        Start: <span id="mt_${sectionNo}_start"></span><br>
        End : <span id="mt_${sectionNo}_end"></span><br>
        Dur : <span id="mt_${sectionNo}_duration"></span>
      </div>
    </a>
  `;
                }
                toolTimerContainer.innerHTML = machineTimerHTML;
            </script>


        </div>
    </section>

    <section class="section tool-timers">
        <h2 class="subtitle">Step Timers</h2>
        <div id="step-timer-container" class="columns is-tablet .is-variable is-1">
            <script>
                const stepTimerContainer = document.getElementById("step-timer-container");
                let stepTimerHTML = "";
                for (let i = 1; i <= 10; i++) {
                    var sectionNo = ('0' + i).slice(-2);
                    stepTimerHTML += `
<a href='./timer-history?timer=step_timer&section=section${sectionNo}' class="column">
  <div class="notification is-link">
    <span class="section-no tag is-white">${sectionNo}</span>
    Start: <span id="st_${sectionNo}_start"></span><br>
    End : <span id="st_${sectionNo}_end"></span><br>
    Dur : <span id="st_${sectionNo}_duration"></span>
  </div>
</a>
`;
                }
                stepTimerContainer.innerHTML = stepTimerHTML;
            </script>


        </div>
    </section>

    <section class="section main-counter">
        <h2 class="subtitle">Reject Counter</h2>
        <div class="columns is-tablet .is-variable is-1" id="reject_div">
            <script>
                for (var i = 1; i <= 10; i++) {
                    var sectionNo = ('0' + i).slice(-2);
                    var rejectCountId = 'reject_count_' + sectionNo;
                    var div = document.createElement('div');
                    div.classList.add('column');
                    div.innerHTML = `
                <div class="notification is-link has-text-centered">
                  <span class="section-no tag is-white"> ${sectionNo} </span>
                  <span id="${rejectCountId}" class="is-size-3-tablet is-size-2-desktop is-size-1-widescreen">0</span>
                </div>`;
                    document.querySelector('#reject_div').appendChild(div);
                }
            </script>
        </div>
    </section>



    <script
        src="../uibuilder/vendor/socket.io/socket.io.js">/* REQUIRED: Socket.IO is loaded only once for all instances. Without this, you don't get a websocket connection */</script>
    <script src="./uibuilderfe.min.js">/* REQUIRED: remove 'min.' to use dev version */</script>
    <script src="./index.js">/* OPTIONAL: Put your custom code here */</script>
</body>

</html>